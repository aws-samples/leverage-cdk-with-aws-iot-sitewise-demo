{
 "Resources": {
  "GenericMachineModel818510EB": {
   "Type": "AWS::IoTSiteWise::AssetModel",
   "Properties": {
    "AssetModelDescription": "Generic Machine Model Description",
    "AssetModelName": "Generic Machine Model",
    "AssetModelProperties": [
     {
      "DataType": "STRING",
      "LogicalId": "GenericMachineNameModelAttribute",
      "Name": "name",
      "Type": {
       "Attribute": {
        "DefaultValue": "Generic Machine"
       },
       "TypeName": "Attribute"
      }
     },
     {
      "DataType": "STRING",
      "LogicalId": "GenericMachineBrand_ModelModelAttribute",
      "Name": "brand_model",
      "Type": {
       "Attribute": {
        "DefaultValue": "Machine brand_model"
       },
       "TypeName": "Attribute"
      }
     },
     {
      "DataType": "DOUBLE",
      "LogicalId": "MachineConsumptionMeasurement",
      "Name": "Consumption",
      "Type": {
       "TypeName": "Measurement"
      },
      "Unit": "A"
     },
     {
      "DataType": "DOUBLE",
      "LogicalId": "MotorTemperatureFahMeasurement",
      "Name": "Motor Temperature Fahrenheit",
      "Type": {
       "TypeName": "Measurement"
      },
      "Unit": "F"
     },
     {
      "DataType": "DOUBLE",
      "LogicalId": "MotorTemperatureCelMeasurement",
      "Name": "Motor Temperature Celsius",
      "Type": {
       "Transform": {
        "Expression": "(temp - 32) * 5/9",
        "Variables": [
         {
          "Name": "temp",
          "Value": {
           "PropertyLogicalId": "MotorTemperatureFahMeasurement"
          }
         }
        ]
       },
       "TypeName": "Transform"
      },
      "Unit": "C"
     },
     {
      "DataType": "DOUBLE",
      "LogicalId": "AverageMotorTemperatureMeasurement",
      "Name": "Average Motor Temperature",
      "Type": {
       "Metric": {
        "Expression": "avg(temp)",
        "Variables": [
         {
          "Name": "temp",
          "Value": {
           "PropertyLogicalId": "MotorTemperatureFahMeasurement"
          }
         }
        ],
        "Window": {
         "Tumbling": {
          "Interval": "5m"
         }
        }
       },
       "TypeName": "Metric"
      },
      "Unit": "F"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkSitewiseDemoStack/GenericMachineModel/GenericMachineModel"
   }
  },
  "ProductionLineDemoModelGenericProductionLineModel55FE30DB": {
   "Type": "AWS::IoTSiteWise::AssetModel",
   "Properties": {
    "AssetModelDescription": "Generic Production Lined Model Description",
    "AssetModelHierarchies": [
     {
      "ChildAssetModelId": {
       "Ref": "GenericMachineModel818510EB"
      },
      "LogicalId": "ProductionMachineHierarchy",
      "Name": "Production Line - Generic Machine Model Hiearchy"
     }
    ],
    "AssetModelName": "Generic Production Line Model",
    "AssetModelProperties": [
     {
      "DataType": "STRING",
      "LogicalId": "GenericProductionLineNameModelAttribute",
      "Name": "name",
      "Type": {
       "Attribute": {
        "DefaultValue": "Production Line"
       },
       "TypeName": "Attribute"
      }
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkSitewiseDemoStack/ProductionLineDemoModel/Generic-ProductionLineModel"
   }
  },
  "FactoryModelA255B0DD": {
   "Type": "AWS::IoTSiteWise::AssetModel",
   "Properties": {
    "AssetModelDescription": "Generic Factory Model Description",
    "AssetModelHierarchies": [
     {
      "ChildAssetModelId": {
       "Ref": "ProductionLineDemoModelGenericProductionLineModel55FE30DB"
      },
      "LogicalId": "Factory_ProductionLineHierarchy",
      "Name": "Factory - Production Line Hiearchy"
     }
    ],
    "AssetModelName": "Generic Factory Model",
    "AssetModelProperties": [
     {
      "DataType": "STRING",
      "LogicalId": "FactoryNameModelAttribute",
      "Name": "name",
      "Type": {
       "Attribute": {
        "DefaultValue": "Factory"
       },
       "TypeName": "Attribute"
      }
     },
     {
      "DataType": "STRING",
      "LogicalId": "FactoryRegionModelAttribute",
      "Name": "region",
      "Type": {
       "Attribute": {
        "DefaultValue": "US-Texas"
       },
       "TypeName": "Attribute"
      }
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkSitewiseDemoStack/FactoryModel/FactoryModel"
   }
  },
  "MachineAsset1MachineAsset7E630F88": {
   "Type": "AWS::IoTSiteWise::Asset",
   "Properties": {
    "AssetModelId": {
     "Ref": "GenericMachineModel818510EB"
    },
    "AssetName": "Machine-1",
    "AssetProperties": [
     {
      "Alias": "machines/Machine-1/consumption",
      "LogicalId": "MachineConsumptionMeasurement",
      "NotificationState": "ENABLED"
     },
     {
      "Alias": "machines/Machine-1/temperature",
      "LogicalId": "MotorTemperatureFahMeasurement",
      "NotificationState": "ENABLED"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkSitewiseDemoStack/MachineAsset_1/MachineAsset"
   }
  },
  "MachineAsset2MachineAssetBAC1B5DB": {
   "Type": "AWS::IoTSiteWise::Asset",
   "Properties": {
    "AssetModelId": {
     "Ref": "GenericMachineModel818510EB"
    },
    "AssetName": "Machine-2",
    "AssetProperties": [
     {
      "Alias": "machines/Machine-2/consumption",
      "LogicalId": "MachineConsumptionMeasurement",
      "NotificationState": "ENABLED"
     },
     {
      "Alias": "machines/Machine-2/temperature",
      "LogicalId": "MotorTemperatureFahMeasurement",
      "NotificationState": "ENABLED"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkSitewiseDemoStack/MachineAsset_2/MachineAsset"
   }
  },
  "ProductionLineAsset1ProductionLineAsset008C818D": {
   "Type": "AWS::IoTSiteWise::Asset",
   "Properties": {
    "AssetHierarchies": [
     {
      "ChildAssetId": {
       "Ref": "MachineAsset1MachineAsset7E630F88"
      },
      "LogicalId": "ProductionMachineHierarchy"
     },
     {
      "ChildAssetId": {
       "Ref": "MachineAsset2MachineAssetBAC1B5DB"
      },
      "LogicalId": "ProductionMachineHierarchy"
     }
    ],
    "AssetModelId": {
     "Ref": "ProductionLineDemoModelGenericProductionLineModel55FE30DB"
    },
    "AssetName": "ProductionLine-1"
   },
   "Metadata": {
    "aws:cdk:path": "CdkSitewiseDemoStack/ProductionLineAsset_1/ProductionLineAsset"
   }
  },
  "FactoryAsset1FactoryAsset4426CB53": {
   "Type": "AWS::IoTSiteWise::Asset",
   "Properties": {
    "AssetHierarchies": [
     {
      "ChildAssetId": {
       "Ref": "ProductionLineAsset1ProductionLineAsset008C818D"
      },
      "LogicalId": "Factory_ProductionLineHierarchy"
     }
    ],
    "AssetModelId": {
     "Ref": "FactoryModelA255B0DD"
    },
    "AssetName": "Factory-11"
   },
   "Metadata": {
    "aws:cdk:path": "CdkSitewiseDemoStack/FactoryAsset_1/FactoryAsset"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/zXLwQrCQAwE0G/pfTeWPSgepWcR2g+QuhshbU2kydpD6b/bRTzNm4EJcD5CqPpFfUyjn+gBa2d9HN0+3UlMyXAhRVibJ19U0a6ScHL/thXdsr2zFbWokueIxY1wIiPhzfH+gUEPn1DDCepqUCI/ZzZ6IbS//ALhjsomiwAAAA=="
   },
   "Metadata": {
    "aws:cdk:path": "CdkSitewiseDemoStack/CDKMetadata/Default"
   },
   "Condition": "CDKMetadataAvailable"
  }
 },
 "Outputs": {
  "GenericMachineModelGenericMachineModelID09361A3D": {
   "Description": "LogicalID of Generic Machine model.",
   "Value": {
    "Ref": "GenericMachineModel818510EB"
   }
  },
  "ProductionLineDemoModelGenericProductionLineModelIDD72D0DCC": {
   "Description": "LogicalID of Generic Production Line model.",
   "Value": {
    "Ref": "ProductionLineDemoModelGenericProductionLineModel55FE30DB"
   }
  },
  "ProductionLineDemoModelProductionMachineHierarchyLogicalId0C5F242B": {
   "Description": "LogicalID of hierarchical association between Production Line and Generic Machine models.",
   "Value": "ProductionMachineHierarchy"
  },
  "FactoryModelProductionLineModelId2AD40F10": {
   "Description": "LogicalID of the Production Line model.",
   "Value": {
    "Ref": "ProductionLineDemoModelGenericProductionLineModel55FE30DB"
   }
  },
  "FactoryModelFactoryProductionHierarchyLogicalIdEA45B63F": {
   "Description": "LogicalID of hierarchical association between Factory and Production Line models.",
   "Value": "Factory_ProductionLineHierarchy"
  }
 },
 "Conditions": {
  "CDKMetadataAvailable": {
   "Fn::Or": [
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "af-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-northeast-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-northeast-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ca-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "cn-north-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "cn-northwest-1"
       ]
      }
     ]
    },
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-north-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-3"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "me-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "sa-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-east-2"
       ]
      }
     ]
    },
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-west-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-west-2"
       ]
      }
     ]
    }
   ]
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}